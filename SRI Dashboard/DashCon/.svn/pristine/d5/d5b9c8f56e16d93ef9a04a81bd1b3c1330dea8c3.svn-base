<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="sri.mapper.TruckFeed">

<!-- 	Database : SRI  -->
<!-- 	Schema 	 : TRUCK_FEED -->
	<resultMap id="TruckFeedMapper" type="TruckFeed">
		<id property="id" column="ID" />
		<result property="siteId" column="SITE_ID" />
		<result property="timestamp" column="TIMESTAMP" />
		<result property="licensePlate" column="LICENSE_PLATE" />
		<result property="imageUrl" column="IMAGE_URL" />
		<result property="driversLicense" column="DRIVERS_LICENSE"></result>
		<result property="commercialDriversLicense" column="COMMERCIAL_DRIVERS_LICENSE"></result>
		<result property="vin" column="VIN"></result>
		<result property="usdotNumber" column="USDOT_NUMBER"></result>
		<result property="latitude" column="LATITUDE"></result>
		<result property="longitude" column="LONGITUDE"></result>
		<result property="sequenceNumber" column="SEQUENCE_NUMBER"></result>
	</resultMap>

	<select id="listAllTruckFeed" resultMap="TruckFeedMapper">
		SELECT *
		FROM SRI.TRUCK_FEED;
	</select>
	
	<select id="getTruckFeed" resultMap="TruckFeedMapper">
		SELECT *
		FROM SRI.TRUCK_FEED
		WHERE TIMESTAMP = #{timestamp};		
	</select>
	
	<insert id="insertTruckFeed">
		INSERT INTO sri.truck_feed (
			site_id,
			timestamp,
			license_plate,
			image_url,
			drivers_license,
			commercial_drivers_license,
			vin,
			usdot_number,
			latitude,
			longitude,
			sequence_number
		) VALUES (
			#{siteId},
			#{timestamp},
			#{licensePlate},
			#{imageUrl},
			#{driversLicense},
			#{commercialDriversLicense},
			#{vin},
			#{usdotNumber},
			#{latitude},
			#{longitude},
			#{sequenceNumber}
		);
	</insert>

</mapper>
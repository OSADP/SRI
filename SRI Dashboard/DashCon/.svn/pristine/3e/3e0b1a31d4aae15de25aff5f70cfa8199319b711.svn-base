

App.View.DataCaptured = Backbone.View.extend({
	
	template : template('module-data-captured'),
	
	initialize : function() {
		App.Event.Vehicle.on( "load", this.loadModule, this );
	},
	
	events : {
		"click #dcRefresh" : "refreshModule"
	},
	// load module with data from NEW model
	loadModule : function ( model ) {
		console.log("Initiated Load Module");
		this.model = model;
		this.render();
		return this;
	},
	// refresh module data by GETTING from web services
	refreshModule : function () {
		console.log("Initiated Refresh Module");
		this.model.fetch(); // simulate request.
		this.model.set( "licensePlate", "New " + this.model.get("licensePlate") );
		this.model.set( "dotNumber", "New " + this.model.get("dotNumber") );
		this.model.set( "weight", "New " + this.model.get("weight") );
		this.render();
		return this;
	},
	// render template
	render: function () {
		console.log("Initiated Render Data Captured.");
		this.$el.empty();
		this.$el.html( this.template( this.model.attributes ) );
		return this;
	}
	
});
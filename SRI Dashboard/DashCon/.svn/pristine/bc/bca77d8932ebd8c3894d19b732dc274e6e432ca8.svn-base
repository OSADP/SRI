package sri.data.ws;

import java.util.List;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.ws.rs.Consumes;
import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.PathParam;
import javax.ws.rs.Produces;
import javax.ws.rs.core.Context;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.UriInfo;

import sri.data.Vendor;
import sri.data.dao.VendorDao;
import sri.data.dao.VendorDaoImpl;

@Path("vendor")
public class VendorResource {

		@Context
		protected UriInfo uriInfo;
		@Context
		protected HttpServletRequest req;
		@Context
		protected HttpServletResponse resp;

		private VendorDao vendorDao;

		//List all vendors
		@GET
		@Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})
		@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })
		public List<Vendor> getAllVendors() {
			vendorDao = new VendorDaoImpl();
			List<Vendor> vendors = vendorDao.getAllVendors();
			return vendors;
		}
		//Get vendor by id
		@GET @Path("{vendorId}")
		@Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})
		@Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_XML })
		public Vendor getVendorById(@PathParam("vendorId") String vendorId) {
			vendorDao = new VendorDaoImpl();
			Vendor vendor = vendorDao.getVendorById(vendorId);
			return vendor;
		}
		//Get vendor by name
		@GET @Path("name/{vendorName}")
		@Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})
		@Produces({ MediaType.APPLICATION_XML, MediaType.APPLICATION_XML })
		public Vendor getVendorByName(@PathParam("vendorName") String vendorName) {
			vendorDao = new VendorDaoImpl();
			Vendor vendor = vendorDao.getVendorByName(vendorName);
			return vendor;
		}
	
}

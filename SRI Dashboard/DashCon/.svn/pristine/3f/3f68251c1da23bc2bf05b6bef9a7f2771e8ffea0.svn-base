/*global require*/
'use strict';

require.config({
    shim: {
        underscore: {
            exports: '_'
        },
        backbone: {
            deps: [
                'underscore',
                'jquery'
            ],
            exports: 'Backbone'
        },
        bootstrap: {
            deps: ['jquery'],
            exports: 'jquery'
        }
    },
    paths: {
        jquery: '../../js/jquery-1.11.0',
        backbone: '../../vendor/backbone/backbone',
        underscore: '../../vendor/underscore/underscore',
        bootstrap: '../../vendor/bootstrap/custom/js/bootstrap'
    }
});

require([], function() {
	//another global variable for our template helper
	window.template = function(templateId) {
		_.templateSettings = {
		  interpolate: /\{\{(.+?)\}\}/g
		};
		return _.template( $('#' + templateId).html() ); 
	};
	
	//added function to capitalize first letters
	String.prototype.capitalize = function() {
    return this.charAt(0).toUpperCase() + this.slice(1);
	};
	
});

require([
    'backbone',
    'routers/UserRouter'
], function (Backbone, Route) {
	
	//start the app
	new Route;
	//start history
    Backbone.history.start();
    
    console.log('Hello from Backbone!');
    
});
